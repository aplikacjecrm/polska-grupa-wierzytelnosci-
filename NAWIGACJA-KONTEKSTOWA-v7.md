# ğŸ® NAWIGACJA KONTEKSTOWA - v7

## âœ… NOWA FUNKCJA: Przyciski "â† Poprzedni" i "NastÄ™pny â†’"

### **Co byÅ‚o w v6:**
- Wyszukanie Art. 420 â†’ pokazywaÅ‚o Art. 415-425
- Å»eby przejÅ›Ä‡ do Art. 421 â†’ trzeba byÅ‚o wpisaÄ‡ "421" âŒ

### **Co jest w v7:**
- Wyszukanie Art. 420 â†’ pokazuje Art. 415-425
- **STICKY PRZYCISKI** na gÃ³rze:
  - **â† Poprzedni (Art. 419)**
  - **ğŸ¯ Art. 420** (zakres 415-425)
  - **NastÄ™pny (Art. 421) â†’**
- KlikniÄ™cie przesuwa **caÅ‚y zakres** o 1 artykuÅ‚! âœ…

---

## ğŸ¯ JAK TO DZIAÅA:

### **PrzykÅ‚ad: JesteÅ› na Art. 420**

**Widok:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [â† Poprzedni (419)] [ğŸ¯ Art. 420] [NastÄ™pny (421) â†’]   â”‚
â”‚                  Zakres: Art. 415-425                    â”‚
â”‚                ğŸ’¡ Kliknij aby przesunÄ…Ä‡                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Art. 415
Art. 416
Art. 417
Art. 418
Art. 419
Art. 420 [ğŸ¯ WYSZUKANY] â† Tu jesteÅ›!
Art. 421
Art. 422
Art. 423
Art. 424
Art. 425
```

### **Klikniesz "NastÄ™pny (421) â†’":**

```
ğŸ”„ Przesuwam do Art. 421...
âš–ï¸ Åadowanie artykuÅ‚Ã³w 416-426...

Nowy widok:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [â† Poprzedni (420)] [ğŸ¯ Art. 421] [NastÄ™pny (422) â†’]   â”‚
â”‚                  Zakres: Art. 416-426                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Art. 416
Art. 417
Art. 418
Art. 419
Art. 420
Art. 421 [ğŸ¯ WYSZUKANY] â† Teraz tu jesteÅ›!
Art. 422
Art. 423
Art. 424
Art. 425
Art. 426
```

**Zakres przesunÄ…Å‚ siÄ™ o 1!** ğŸ‰

---

## ğŸ’¡ KORZYÅšCI:

### **1. PÅ‚ynne przeglÄ…danie**
```
Nie musisz wpisywaÄ‡ numerÃ³w!
Klikasz "NastÄ™pny" â†’ kolejny artykuÅ‚ z kontekstem
Klikasz "Poprzedni" â†’ poprzedni artykuÅ‚ z kontekstem
```

### **2. Zawsze widzisz kontekst**
```
NiezaleÅ¼nie gdzie jesteÅ›, masz:
- 5 artykuÅ‚Ã³w przed
- Aktualny artykuÅ‚
- 5 artykuÅ‚Ã³w po
```

### **3. Intuicyjne**
```
Jak czytanie ksiÄ…Å¼ki:
- NastÄ™pny â†’ Przewracasz stronÄ™ w prawo
- Poprzedni â†’ Wracasz stronÄ™ w lewo
```

---

## ğŸ¨ STICKY PRZYCISKI:

### **Position: Sticky**
```
- Przyciski sÄ… zawsze widoczne na gÃ³rze
- Gdy scrollujesz w dÃ³Å‚ â†’ przyciski zostajÄ…
- MoÅ¼esz w kaÅ¼dej chwili kliknÄ…Ä‡ "NastÄ™pny"
```

### **Design:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ciemne tÅ‚o z blur                             â”‚
â”‚  Ramka w kolorze kodeksu (niebieski dla KC)   â”‚
â”‚  Gradient na przyciskach                       â”‚
â”‚  Hover efekty                                  â”‚
â”‚  Disabled dla Art. 1 (Poprzedni)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **Stan disabled:**
```
Gdy jesteÅ› na Art. 1:
- Przycisk "â† Poprzedni" jest szary
- cursor: not-allowed
- Nie moÅ¼na kliknÄ…Ä‡
```

---

## ğŸ§ª JAK PRZETESTOWAÄ†:

### **Test 1: Podstawowa nawigacja**
```
1. CTRL + SHIFT + R (odÅ›wieÅ¼!)
2. "ğŸ“š Kodeksy" â†’ "art 444 kc"
3. Kliknij "ğŸ“š CaÅ‚y kodeks"
4. Pole "Wyszukaj artykuÅ‚": wpisz "420"
5. Enter

Zobaczysz:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [â† Poprzedni (419)] [ğŸ¯ Art. 420]         â”‚
â”‚              [NastÄ™pny (421) â†’]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

6. Kliknij "NastÄ™pny (421) â†’"
7. Zakres przesuwa siÄ™: 416-426 âœ…
8. Art. 421 jest teraz wyszukany âœ…
9. Przyciski pokazujÄ…: 420 â† | 421 | â†’ 422 âœ…
```

### **Test 2: Nawigacja w tyÅ‚**
```
1. Kliknij "â† Poprzedni (420)"
2. Zakres wraca: 415-425
3. Art. 420 jest wyszukany
4. MoÅ¼esz klikaÄ‡ dalej w tyÅ‚
```

### **Test 3: Art. 1 (edge case)**
```
1. Wyszukaj Art. 1
2. Zakres: 1-6 (bo 1-5 nie istnieje)
3. Przycisk "â† Poprzedni" jest disabled (szary)
4. Nie moÅ¼esz kliknÄ…Ä‡
5. Przycisk "NastÄ™pny (2)" dziaÅ‚a âœ…
```

---

## ğŸ” LOGI W KONSOLI:

**Gdy klikasz "NastÄ™pny":**
```
âœ… [v7] Full Code Viewer ready!
âœ… [v7] window.navigateContextArticle: function
âœ… [v7] Wyszukiwanie z KONTEKSTEM + Nawigacja!

ğŸ”„ [navigateContextArticle] Przesuwam do Art. 421
ğŸ” [searchInFullCode] START
ğŸ” [searchInFullCode] Numer artykuÅ‚u: 421
ğŸ” [searchInFullCode] Szukam artykuÅ‚u z kontekstem: 421
ğŸ“š ÅadujÄ™ artykuÅ‚y 416-426 (11 artykuÅ‚Ã³w)
âœ… Art. 416 zaÅ‚adowany z API
...
âœ… ZaÅ‚adowano 11 artykuÅ‚Ã³w z kontekstem
âœ… Dodano przyciski nawigacji kontekstowej
```

---

## ğŸ“‹ SZCZEGÃ“ÅY TECHNICZNE:

### **Funkcja `addContextNavigationButtons()`**
```javascript
function addContextNavigationButtons(code, currentArticle, startNum, endNum) {
    // Tworzy sticky panel na gÃ³rze
    // 3 elementy:
    // 1. Przycisk "â† Poprzedni"
    // 2. Info: Zakres + aktualny artykuÅ‚
    // 3. Przycisk "NastÄ™pny â†’"
    
    // Position: sticky, top: 0
    // z-index: 100 (nad wszystkim)
    // backdrop-filter: blur(10px)
}
```

### **Funkcja `navigateContextArticle()`**
```javascript
window.navigateContextArticle = async function(code, newArticle) {
    // 1. SprawdÅº czy newArticle >= 1
    // 2. Wpisz nowy numer do pola wyszukiwania
    // 3. WywoÅ‚aj searchInFullCode()
    // 4. searchInFullCode zaÅ‚aduje nowy zakres (5 przed + nowy + 5 po)
    // 5. Doda nowe przyciski nawigacji
}
```

### **Sticky positioning:**
```css
position: sticky;
top: 0;
z-index: 100;
```

Przyciski **pozostajÄ… na gÃ³rze** podczas scrollowania!

---

## ğŸ¯ PRZYKÅADY UÅ»YCIA:

### **1. Czytanie Kodeksu Cywilnego sekwencyjnie:**
```
1. Wyszukaj Art. 1
2. Przeczytaj Art. 1-6
3. Kliknij "NastÄ™pny" â†’ Art. 2-7
4. Kliknij "NastÄ™pny" â†’ Art. 3-8
5. Itd... MoÅ¼esz przeczytaÄ‡ caÅ‚y kodeks!
```

### **2. Analiza przepisÃ³w o szkodzie:**
```
1. Wyszukaj Art. 444 (szkoda)
2. Zobacz kontekst: 439-449
3. Kliknij "NastÄ™pny" â†’ Art. 445 (renta)
4. Zobacz kontekst: 440-450
5. Kliknij "NastÄ™pny" â†’ Art. 446
6. Analizujesz zwiÄ…zane przepisy z kontekstem
```

### **3. Sprawdzanie kar (Kodeks Karny):**
```
1. Wyszukaj Art. 148 (zabÃ³jstwo)
2. Zobacz: 143-153
3. Kliknij "NastÄ™pny" â†’ Art. 149 (kwalifikowane typy)
4. Kliknij "NastÄ™pny" â†’ Art. 150 (zabÃ³jstwo w afekcie)
5. PÅ‚ynnie przeglÄ…dasz caÅ‚y rozdziaÅ‚
```

---

## ğŸš€ KORZYÅšCI v7:

| Funkcja | v6 | v7 |
|---------|----|----|
| Wyszukiwanie z kontekstem | âœ… | âœ… |
| Sticky przyciski nawigacji | âŒ | âœ… |
| Przycisk "â† Poprzedni" | âŒ | âœ… |
| Przycisk "NastÄ™pny â†’" | âŒ | âœ… |
| Auto-przesuwanie zakresu | âŒ | âœ… |
| Pokazanie aktualnego art. | âŒ | âœ… Zakres + ğŸ¯ |
| Disabled dla Art. 1 | âŒ | âœ… |
| Hint dla uÅ¼ytkownika | âŒ | âœ… ğŸ’¡ |

---

## ğŸ“ ZMIANY W PLIKACH:

### **full-code-viewer.js:**

**Linia 679-782:** Funkcja `addContextNavigationButtons()`
```javascript
// Tworzy sticky panel
// 3 przyciski: Poprzedni, Info, NastÄ™pny
// Hover efekty
// Disabled state dla Art. 1
```

**Linia 785-801:** Funkcja `navigateContextArticle()`
```javascript
// ObsÅ‚uguje klikniÄ™cie przyciskÃ³w
// Wpisuje nowy numer do inputu
// WywoÅ‚uje searchInFullCode()
```

**Linia 577:** WywoÅ‚anie po zaÅ‚adowaniu
```javascript
addContextNavigationButtons(currentCode, targetNum, startNum, endNum);
```

**Linia 833-838:** Zaktualizowane logi
```javascript
console.log('âœ… [v7] window.navigateContextArticle:', typeof window.navigateContextArticle);
console.log('âœ… [v7] Nawigacja "â† Poprzedni" / "NastÄ™pny â†’"!');
```

### **index.html:**

**Linia 1354:** Wersja v=7
```html
<script src="scripts/full-code-viewer.js?v=7&navigation=prevnext"></script>
```

---

## ğŸ¨ WYGLÄ„D PRZYCISKÃ“W:

### **Przycisk aktywny:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† Poprzedni (Art. 419)      â”‚
â”‚ Gradient niebieski           â”‚
â”‚ Border niebieski             â”‚
â”‚ Hover: jaÅ›niejszy            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **Przycisk disabled:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† Poprzedni (Art. 0)        â”‚
â”‚ Szary                        â”‚
â”‚ Border szary                 â”‚
â”‚ cursor: not-allowed          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **Panel Å›rodkowy (info):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Zakres: Art. 415-425        â”‚
â”‚ ğŸ¯ Art. 420                 â”‚
â”‚ (pÃ³Å‚przezroczyste tÅ‚o)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âš ï¸ EDGE CASES:

### **1. Art. 1 (poczÄ…tek):**
```
Przycisk "â† Poprzedni" disabled
Zakres: 1-6 (bo 1-5=0, max(1,0)=1)
```

### **2. Art. 1088 (koniec KC):**
```
Zakres: 1083-1088
Przycisk "NastÄ™pny" pokaÅ¼e Art. 1089
Ale KC koÅ„czy siÄ™ na 1088!
System sprÃ³buje zaÅ‚adowaÄ‡ â†’ BÅ‚Ä…d API
```

**TODO:** DodaÄ‡ sprawdzenie max artykuÅ‚u i disable dla koÅ„ca

---

## ğŸ§ª CHECKLIST TESTOWANIA:

```
â˜ CTRL + SHIFT + R (wymuÅ› odÅ›wieÅ¼enie)
â˜ F12 â†’ Console â†’ Zobacz "[v7] Full Code Viewer ready!"
â˜ "Nawigacja 'â† Poprzedni' / 'NastÄ™pny â†’'!"
â˜ Wyszukaj Art. 420
â˜ Zobacz sticky przyciski na gÃ³rze âœ…
â˜ Kliknij "NastÄ™pny (421)" âœ…
â˜ Zakres przesuwa siÄ™: 416-426 âœ…
â˜ Art. 421 jest wyszukany âœ…
â˜ Nowe przyciski: 420 â† | 421 | â†’ 422 âœ…
â˜ Kliknij "â† Poprzedni (420)" âœ…
â˜ Wraca do 415-425 âœ…
â˜ Wyszukaj Art. 1 âœ…
â˜ Przycisk "â† Poprzedni" disabled âœ…
â˜ Scrolluj w dÃ³Å‚ â†’ przyciski zostajÄ… âœ…
```

---

**Status:** âœ… Gotowe!  
**Wersja:** v7 - Nawigacja kontekstowa  
**Data:** 05.11.2025 09:30

---

**ODÅšWIEÅ» I TESTUJ!** ğŸš€

**CTRL + SHIFT + R**

**Teraz moÅ¼esz przeglÄ…daÄ‡ kodeks jak ksiÄ…Å¼kÄ™!** ğŸ“š

---

## ğŸ’¬ DLA UÅ»YTKOWNIKÃ“W:

**Sticky przyciski pozwalajÄ…:**
- ğŸ“– CzytaÄ‡ kodeks sekwencyjnie (jak ksiÄ…Å¼kÄ™)
- â¬…ï¸ CofaÄ‡ siÄ™ do poprzednich artykuÅ‚Ã³w
- â¡ï¸ IÅ›Ä‡ do nastÄ™pnych artykuÅ‚Ã³w
- ğŸ¯ Zawsze widzieÄ‡ gdzie jesteÅ› (zakres + artykuÅ‚)
- ğŸ“š Zawsze mieÄ‡ kontekst (5 przed + 5 po)

**Nie musisz juÅ¼:**
- âŒ WpisywaÄ‡ numerÃ³w rÄ™cznie
- âŒ KlikaÄ‡ "Wstecz" w przeglÄ…darce
- âŒ TraciÄ‡ kontekstu

**Po prostu klikaj "NastÄ™pny" i czytaj!** ğŸ‰
